<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Bruin Catch (Unofficial)</title> <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.49/Tone.js"></script>
    <style>
        /* --- CSS Styles (No changes needed here, but kept for completeness) --- */
        html, body { height: 100%; margin: 0; padding: 0; overflow: hidden; background-color: #ADD8E6; font-family: 'Press Start 2P', cursive; }
body {
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
    align-items: center;
    min-height: 100vh; /* Or leave it commented out if you did that */
    /* padding: 1rem; */ /* Try commenting this out */
    padding: 0; /* Or try padding: 0; */
    box-sizing: border-box;
    touch-action: none;
    transition: background-color 1s ease;
}     
        .intro-text { font-size: 0.9em; color: #333; margin-bottom: 1rem; text-align: center; flex-shrink: 0; width: 100%; }
        /* --- MODIFIED: Added outline: none for focus --- */
        .game-container { border: 5px solid #2774AE; position: relative; overflow: hidden; width: 100%; max-width: 600px; aspect-ratio: 3 / 4; border-radius: 15px; box-shadow: 0 6px 12px rgba(0,0,0,0.15); background-color: #F2A900; cursor: grab; margin-top: 0; flex-shrink: 1; min-height: 0; outline: none; /* Remove focus outline */ }
        canvas { display: block; width: 100%; height: 100%; visibility: hidden; background-color: transparent; }
        /* Name Input Overlay */
        #name-input-overlay { position: absolute; top: 0; left: 0; right: 0; bottom: 0; background-color: rgba(255, 255, 255, 0.95); z-index: 30; display: flex; flex-direction: column; justify-content: center; align-items: center; padding: 20px; text-align: center; color: #2774AE; }
         /* Leaderboard Display */
         #leaderboard-display { margin-top: 15px; font-size: 0.7em; text-align: left; width: 80%; max-width: 300px; border: 1px solid #ccc; padding: 10px; background-color: #f0f0f0; border-radius: 5px; }
         #leaderboard-display h3 { margin: 0 0 5px 0; text-align: center; font-size: 1.1em; }
         #leaderboard-list { list-style: none; padding: 0; margin: 0; }
         #leaderboard-list li { margin-bottom: 3px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
         #leaderboard-list li span { display: inline-block; }
         #leaderboard-list .rank { width: 20px; text-align: right; margin-right: 5px;}
         #leaderboard-list .name { width: calc(50% - 25px); margin-right: 5px; overflow: hidden; text-overflow: ellipsis;}
         #leaderboard-list .score { width: calc(30% - 5px); text-align: right; margin-right: 5px;}
         #leaderboard-list .level { width: 20%; text-align: right; }
        #name-input-overlay h2 { font-size: 1.3em; margin-bottom: 15px; }
        #name-input-overlay p { font-size: 0.8em; line-height: 1.4; margin-bottom: 10px; /* Reduced margin */ max-width: 90%; }
        /* --- ADDED: Style for fullscreen hint --- */
        #name-input-overlay .fullscreen-hint { font-size: 0.65em; color: #555; margin-top: 5px; margin-bottom: 15px; }
        #player-name-input { font-family: 'Press Start 2P', cursive; font-size: 1em; padding: 10px; margin-bottom: 20px; border: 2px solid #2774AE; border-radius: 5px; text-align: center; width: 80%; max-width: 250px; }
        #start-game-button { font-family: 'Press Start 2P', cursive; font-size: 1em; padding: 12px 25px; background-color: #2774AE; color: white; border: none; border-radius: 8px; cursor: pointer; transition: background-color 0.2s; }
        #start-game-button:hover { background-color: #1E5A8C; }

        /* In-Game UI */
        .ui-overlay { position: absolute; top: 10px; left: 15px; right: 15px; display: flex; justify-content: space-between; align-items: flex-start; color: #ffffff; font-size: 1em; z-index: 10; pointer-events: none; visibility: hidden; }
        .ui-left, .ui-center, .ui-right { display: flex; flex-direction: column; gap: 5px; }
        .ui-left { align-items: flex-start; } .ui-center { align-items: center; } .ui-right { align-items: flex-end; }
        .score, .lives, .level, .high-score-display, .high-level-display, .player-name-display, .combo-display, .bonus-display { background-color: rgba(39, 116, 174, 0.7); padding: 5px 10px; border-radius: 5px; white-space: nowrap; }
        .level { font-size: 0.9em; }
        .high-score-display, .high-level-display { font-size: 0.8em; background-color: rgba(0, 0, 0, 0.5); }
        .player-name-display { position: absolute; bottom: 10px; left: 10px; font-size: 0.8em; background-color: rgba(0, 0, 0, 0.5); z-index: 10; }
        .combo-display { position: absolute; bottom: 10px; right: 10px; font-size: 1.1em; color: #FFD700; text-shadow: 1px 1px 2px rgba(0,0,0,0.7); z-index: 10; display: none; }
         .bonus-display { position: absolute; top: 50px; left: 50%; transform: translateX(-50%); font-size: 1.2em; color: #ff4500; background-color: rgba(255, 255, 0, 0.8); z-index: 15; display: none; padding: 5px 15px; animation: pulseBonus 1s infinite alternate; }
         @keyframes pulseBonus { from { transform: translateX(-50%) scale(1); } to { transform: translateX(-50%) scale(1.1); } }
        .message { /* Game Over Message */ position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); color: #2774AE; font-size: 1.2em; text-align: center; display: none; background-color: rgba(255, 255, 255, 0.9); padding: 20px; border-radius: 10px; border: 3px solid #2774AE; z-index: 20; line-height: 1.5; max-width: 80%; box-shadow: 0 0 15px rgba(0,0,0,0.2); cursor: pointer; }
        .level-up-message { position: absolute; top: 30%; left: 50%; transform: translate(-50%, -50%); color: #FFD700; font-size: 1.8em; text-align: center; display: none; z-index: 25; text-shadow: 2px 2px 4px rgba(0,0,0,0.5); animation: fadeOutLevelUp 1.5s forwards; }
        @keyframes fadeOutLevelUp { 0% { opacity: 1; transform: translate(-50%, -50%) scale(1); } 100% { opacity: 0; transform: translate(-50%, -50%) scale(1.2); } }
        /* Item Notification Style */
        #item-notification { position: absolute; top: 60%; left: 50%; transform: translateX(-50%); font-size: 1.3em; color: white; padding: 8px 15px; border-radius: 8px; background-color: rgba(0, 0, 0, 0.6); z-index: 22; display: none; text-align: center; text-shadow: 1px 1px 2px black; animation: fadeOutNotification 1.5s forwards; }
        @keyframes fadeOutNotification { 0% { opacity: 1; transform: translateX(-50%) translateY(0); } 80% { opacity: 1; transform: translateX(-50%) translateY(0); } 100% { opacity: 0; transform: translateX(-50%) translateY(-20px); } }

        /* Responsive */
         @media (max-width: 600px) { .intro-text { font-size: 0.8em; } .ui-overlay { font-size: 0.9em; top: 8px; left: 12px; right: 12px; } .score, .lives, .level, .high-score-display, .high-level-display, .player-name-display, .combo-display, .bonus-display { padding: 4px 8px; } .combo-display { font-size: 1em; bottom: 8px; right: 8px;} .bonus-display { font-size: 1em; top: 45px; } .message { font-size: 1em; padding: 15px; } .level-up-message { font-size: 1.5em; } #name-input-overlay h2 { font-size: 1.1em; } #name-input-overlay p { font-size: 0.7em; } #name-input-overlay .fullscreen-hint { font-size: 0.6em; } #player-name-input { font-size: 0.9em; } #start-game-button { font-size: 0.9em; } .player-name-display { font-size: 0.7em; bottom: 8px; left: 8px;} #leaderboard-display { font-size: 0.6em; } #item-notification { font-size: 1.1em; } }
         @media (max-width: 450px) { .intro-text { font-size: 0.7em; } .ui-overlay { font-size: 0.75em; left: 10px; right: 10px; } .level { font-size: 0.7em; } .high-score-display, .high-level-display { font-size: 0.65em; padding: 3px 6px;} .combo-display { font-size: 0.9em; } .bonus-display { font-size: 0.9em; } .message { font-size: 0.9em; padding: 10px; } .level-up-message { font-size: 1.2em; } .player-name-display { font-size: 0.65em; } #leaderboard-display { display: none; } #item-notification { font-size: 1em; } }
    </style>
    <script src="game.js"></script>
</head>
<body>
    <div class="game-container" id="gameContainer" tabindex="0">
        <div id="name-input-overlay">
            <h2>Enter Player Name</h2>
            <p>Move üêª (Arrows/Drag) to catch falling items. Avoid items with red sparkles. Reach the highest level!</p>
            <input type="text" id="player-name-input" placeholder="Bruin" maxlength="15">
            <button id="start-game-button">Start Game</button>
            <div id="leaderboard-display">
                <h3>Leaderboard</h3>
                <ol id="leaderboard-list"><li>Loading...</li></ol>
            </div>
             </div>
        <canvas id="gameCanvas"></canvas>
        <div class="ui-overlay">
            <div class="ui-left">
                <div id="score" class="score">Score: 0</div>
                <div id="high-score" class="high-score-display">Hi: 0 (Bruin)</div>
            </div>
            <div class="ui-center">
                 <div id="level" class="level">Level: 1</div>
                 <div id="high-level" class="high-level-display">Hi Lvl: 1</div>
            </div>
            <div class="ui-right">
                <div id="lives" class="lives">Lives: 3</div>
            </div>
        </div>
        <div id="player-name-display" class="player-name-display">Player: Bruin</div>
        <div id="combo-display" class="combo-display"></div>
        <div id="bonus-display" class="bonus-display">BONUS ROUND!</div>
        <div id="message" class="message">Tap or Click to Start</div>
        <div id="levelUpMessage" class="level-up-message">Level Up!</div>
        <div id="item-notification"></div>
    </div>

</body>
</html>
